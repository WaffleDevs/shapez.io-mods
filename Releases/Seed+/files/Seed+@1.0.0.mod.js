/**!
 * Name: SeedPlus
 * Description: Allows you to view a save's seed, and create saves with custom seeds.
 * Version: 1.0.0
 * Author(s): WaffleDevs
 */
var m=function(e,t,s,n,a,i,o,l,r,m,h,d,g,p,c,u){"use strict";const A={name:"SeedPlus",description:"Allows you to view a save's seed, and create saves with custom seeds.",version:"1.0.0",id:"Seed+",extra:{authors:[{name:"WaffleDevs",email:"",website:"https://skimnerphi.net/waffledevs",icon:"https://avatars.githubusercontent.com/u/77215539?s=64"}],updateURL:"https://skimnerphi.net/api/v1/latest/Seed+"},author:"WaffleDevs",doesNotAffectSavegame:!0,website:"https://skimnerphi.net/mods/Seed+"};A.extra.changelog={"1.0.0":["Added dialog to New Save for inputting custom seed.","Added savegame stat to display seed."]},A.extra.icon="data:image/webp;base64,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",s.createLogger("state/ingame");class v extends p.Mod{init(){let e=0;this.modInterface.replaceMethod(c.MainMenuState,"onPlayButtonClicked",(function(){const t=new a.FormElementInput({id:"delayAmount",placeholder:"",defaultValue:"",validator:e=>Number.parseInt(e)>=0&&Number.parseInt(e)<=2147483647||""==e||"number"==typeof e}),s=new n.DialogWithForm({app:this.app,title:"Seed",desc:"Set the custom seed (0-2147483647) or leave blank for random:",formElements:[t],buttons:["cancel:bad:escape","ok:good:enter"],closeButton:!1});this.dialogs.internalShowDialog(s),s.buttonSignals.ok.add((()=>{e=""!=t.getValue()?Number.parseInt(t.getValue()):i.randomInt(0,2147483647),this.app.savegameMgr.getSavegamesMetaData().length>0&&!this.app.restrictionMgr.getHasUnlimitedSavegames()?this.showSavegameSlotLimit():this.app.adProvider.showVideoAd().then((()=>{const e=this.app.savegameMgr.createNewSavegame();this.moveToState("InGameState",{savegame:e})}))}))})),this.modInterface.replaceMethod(h.GameCore,"initNewGame",(function(){if(this.root.gameIsFresh=!0,this.root.map.seed=e,!this.root.gameMode.hasHub())return;const s=t.gMetaBuildingRegistry.findByClass(l.MetaHubBuilding).createEntity({root:this.root,origin:new o.Vector(-2,-2),rotation:0,originalRotation:0,rotationVariant:0,variant:g.defaultBuildingVariant});this.root.map.placeStaticEntity(s),this.root.entityMgr.registerEntity(s)})),this.modInterface.replaceMethod(d.HUDSettingsMenu,"createElements",(function(e,[t]){this.background=i.makeDiv(t,"ingame_HUD_SettingsMenu",["ingameDialog"]),this.menuElement=i.makeDiv(this.background,null,["menuElement"]),this.root.gameMode.hasHub()&&(this.statsElement=i.makeDiv(this.background,null,["statsElement"],`\n                <strong>${u.T.ingame.settingsMenu.beltsPlaced}</strong><span class="beltsPlaced"></span>\n                <strong>${u.T.ingame.settingsMenu.buildingsPlaced}</strong><span class="buildingsPlaced"></span>\n                <strong>${u.T.ingame.settingsMenu.playtime}</strong><span class="playtime"></span>\n                <strong>Seed:</strong><span class="seedView"></span>\n                `)),this.buttonContainer=i.makeDiv(this.menuElement,null,["buttons"]);const s=[{id:"continue",action:()=>this.close()},{id:"settings",action:()=>this.goToSettings()},{id:"menu",action:()=>this.returnToMenu()}];for(let e=0;e<s.length;++e){const{action:t,id:n}=s[e],a=document.createElement("button");a.classList.add("styledButton"),a.classList.add(n),this.buttonContainer.appendChild(a),this.trackClicks(a,t)}})),this.modInterface.replaceMethod(d.HUDSettingsMenu,"show",(function(){this.visible=!0,this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever);const e=Math.ceil(this.root.time.now()/60);if(this.root.gameMode.hasHub()){const t=this.statsElement.querySelector(".playtime"),s=this.statsElement.querySelector(".buildingsPlaced"),n=this.statsElement.querySelector(".beltsPlaced"),a=this.statsElement.querySelector(".seedView");t.innerText=u.T.global.time.xMinutes.replace("<x>",`${e}`),a.innerText=i.formatBigNumberFull(this.root.map.seed),s.innerText=i.formatBigNumberFull(this.root.entityMgr.getAllWithComponent(m.StaticMapEntityComponent).length-this.root.entityMgr.getAllWithComponent(r.BeltComponent).length),n.innerText=i.formatBigNumberFull(this.root.entityMgr.getAllWithComponent(r.BeltComponent).length)}}))}}return e.default=v,e.m=A,e}({},shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez,shapez);$shapez_registerMod(m.default,m.m);
